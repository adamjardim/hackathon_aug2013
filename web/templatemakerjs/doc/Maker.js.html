<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: display/Maker.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: display/Maker.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * @author Russell Toris - rctoris@wpi.edu
 * @author Adam Jardim
 * @author Takehiro Oyakawa
 */

/**
* An Maker can display the template maker overlay interface.
*
* @constructor
* @param options - object with following keys:
*   * ros - the main ROS connection
*   * tfClient - the TF client to use
*/
TEMPLATEMAKER.Maker = function(options) {
  options = options || {};
  var ros = options.ros;
  var tfClient = options.tfClient;
  
  // create the save service
  var saveClient = new ROSLIB.Service({
    ros : ros,
    name : '/fake_object_markers/save_template',
    serviceType : 'interactive_world_hackathon/SaveTemplate'
  });
  
  // add the main display div
  var display = document.createElement('div');
  display.id = 'maker';
  var width = 1100;
  var height = 600;
  display.style.width = width + 'px';
  display.style.height = height + 'px';
  display.style.background = '#bc7f7f';
  display.style.visibility = 'hidden';
  display.style.position = 'absolute';
  display.style.top = '25px';
  display.style.right = ((document.body.clientWidth / 2) - (width/2)) + 'px';
  display.style.zIndex = '100';

  // ros3d div
  var ros3d = document.createElement('div');
  ros3d.id = 'ros3d';
  display.appendChild(ros3d);

  var label = document.createElement('span');
  label.innerHTML = 'Name:';
  display.appendChild(label);
  
  // create the name field
  var name = document.createElement('input');
  display.appendChild(name);
  
  // create the save button
  var save = document.createElement('button');
  save.onclick = function() {
    // send the save request
    var saveName = name.value;
    if (saveName.length === 0) {
      saveName = 'default';
    }
    var request = new ROSLIB.ServiceRequest({
      name : saveName
    });
    saveClient.callService(request, function(result) {});
    display.style.visibility = 'hidden';
  };
  save.innerHTML = 'Save';
  display.appendChild(save);

  var body = document.getElementsByTagName('body')[0];
  body.appendChild(display);
  
  // create the viz
  var viewer = new ROS3D.Viewer({
    divID : 'ros3d',
    width : 1100,
    height : 550,
    antialias : true
  });
  viewer.addObject(new ROS3D.Grid());

  // setup the URDF client
  new ROS3D.UrdfClient({
    ros : ros,
    tfClient : tfClient,
    path : 'http://resources.robotwebtools.org/',
    rootObject : viewer.scene
  });
  
  // add them tables!
  new ROS3D.MarkerClient({
    ros : ros,
    tfClient : tfClient,
    topic : '/create_table_marker',
    rootObject : viewer.scene
  });
  for(var i=1; i&lt;=4; i++) {
    new ROS3D.MarkerClient({
      ros : ros,
      tfClient : tfClient,
      topic : '/leg' + i + '_marker',
      rootObject : viewer.scene
    });
  }
  
  // now go for the objects
  new ROS3D.InteractiveMarkerClient({
    ros : ros,
    tfClient : tfClient,
    topic : '/fake_object_markers/fake_marker_server',
    camera : viewer.camera,
    rootObject : viewer.selectableObjects
  });
};

/**
 * Display the interface.
 */
TEMPLATEMAKER.Maker.prototype.display = function() {
  // start by displaying the element
  var display = document.getElementById('maker');
  display.style.visibility = 'visible';
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="TEMPLATEMAKER.Maker.html">Maker</a></li></ul><h3>Global</h3><ul><li><a href="global.html#TEMPLATEMAKER">TEMPLATEMAKER</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Wed Aug 07 2013 12:03:38 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
